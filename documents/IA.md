# 인공지능 기반 뉴스 분석 웹 서비스 정보 구조 문서

## 1. 사이트 맵 (Site Map)

이 섹션에서는 서비스의 전체적인 페이지 구조와 각 페이지 간의 관계를 시각적으로 표현합니다.

```
홈 (메인 페이지)
├── 뉴스 검색 결과 페이지 (현재 검색 결과 표시)
│   └── 분석 결과 페이지 (새로운 분석 결과 즉시 표시)
├── 마이 페이지 (회원 전용)
│   ├── 나의 검색 기록 목록 페이지
│   │   └── 나의 검색 기록 상세 페이지 (과거 검색 결과 재조회)
│   └── 나의 분석 기록 목록 페이지
│       └── 나의 분석 기록 상세 페이지 (과거 분석 결과 재조회)
├── 로그인 페이지
└── 회원가입 페이지
```

## 2. 사용자 흐름 (User Flow)

사용자가 서비스를 이용하는 주요 경로를 시나리오별로 나타냅니다.

### 2.1. 비회원 사용자 흐름

1.  **서비스 접속**: 메인 페이지 진입
2.  **키워드 입력 및 검색 실행**: 메인 페이지 검색창에 키워드를 입력하고 검색 버튼을 누릅니다. **(여기서 API 호출 로직이 발생합니다)**: 시스템은 네이버 검색 API를 호출하여 해당 키워드와 관련된 뉴스 기사를 가져옵니다. API를 통해 반환된 기사 중 `link` 필드를 기준으로 DB에 없는 기사만 `news_articles` 테이블에 새로 저장합니다. 검색 기록(`search_histories`)과 검색 결과(`news_articles`) 간의 관계는 `search_history_news_articles` 테이블에 저장됩니다.
3.  **뉴스 검색 결과 조회**: `/search` 경로로 이동하여 뉴스 목록을 확인합니다. 이 목록은 **메인 페이지에서 실행된 검색의 결과**를 표시합니다.
4.  **뉴스 선택 및 필터링**: 목록에서 원하는 뉴스 선택 및 추가 필터링 (클라이언트 측에서 로드된 데이터 대상, URL 파라미터로 반영되지 않음)
5.  **분석 종류 선택**: 4가지 분석 종류 중 하나 선택
6.  **뉴스 분석 요청**: '뉴스 분석' 버튼 클릭
7.  **분석 진행 상황 확인**: 분석 결과 페이지로 이동하여 스켈레톤 UI 및 "분석중..." 문구 확인
8.  **분석 결과 확인**: 분석 완료 후 최종 결과 조회 (비회원은 페이지를 벗어나거나 새로고침 시 해당 검색 및 분석 결과를 다시 조회할 수 없습니다.)

### 2.2. 회원 사용자 흐름

1.  **서비스 접속**: 메인 페이지 진입
2.  **로그인/회원가입**: 로그인 페이지 또는 회원가입 페이지를 통해 인증
3.  **키워드 입력 및 검색 실행**: 메인 페이지 또는 로그인 후 검색창에 키워드 입력 및 검색 버튼을 누릅니다. **(여기서 API 호출 로직이 발생합니다)**: 시스템은 네이버 검색 API를 호출하여 해당 키워드와 관련된 뉴스 기사를 가져옵니다. API를 통해 반환된 기사 중 `link` 필드를 기준으로 DB에 없는 기사만 `news_articles` 테이블에 새로 저장합니다. 검색 기록(`search_histories`)과 검색 결과(`news_articles`) 간의 관계는 `search_history_news_articles` 테이블에 저장됩니다.
4.  **뉴스 검색 결과 조회**: `/search` 경로에서 뉴스 목록을 확인합니다. 이 목록은 **메인 페이지에서 실행된 검색의 결과**를 표시합니다.
5.  **뉴스 선택 및 필터링**: 목록에서 원하는 뉴스 선택 및 추가 필터링 (클라이언트 측에서 로드된 데이터 대상, URL 파라미터로 반영되지 않음)
6.  **분석 종류 선택**: 4가지 분석 종류 중 하나 선택
7.  **뉴스 분석 요청**: '뉴스 분석' 버튼 클릭
8.  **분석 진행 상황 확인**: 분석 결과 페이지로 이동하여 스켈레톤 UI 및 "분석중..." 문구 확인
9.  **분석 결과 확인**: 분석 완료 후 최종 결과 조회
10. **마이 페이지 접속**: '마이 페이지' (`/my-page`)로 이동합니다.
11. **과거 검색/분석 기록 목록 조회**:
    -   마이 페이지에서 '나의 검색 기록 보기' 링크를 클릭하여 `/my-page/search` 경로의 **나의 검색 기록 목록 페이지**로 이동합니다.
    -   마이 페이지에서 '나의 분석 기록 보기' 링크를 클릭하여 `/my-page/analysis` 경로의 **나의 분석 기록 목록 페이지**로 이동합니다.
12. **과거 검색/분석 기록 재조회**:
    -   나의 검색 기록 목록 페이지에서 특정 검색 기록을 클릭하면 해당 시점에 DB에 저장되었던 뉴스 검색 결과 및 관련 분석 결과를 `/my-page/search/{search_id}` 경로의 **나의 검색 기록 상세 페이지**에서 다시 조회합니다.
    -   나의 분석 기록 목록 페이지에서 특정 분석 기록을 클릭하면 해당 시점에 DB에 저장되었던 분석 결과를 `/my-page/analysis/{analysis_id}` 경로의 **나의 분석 기록 상세 페이지**에서 다시 조회합니다.

## 3. 내비게이션 구조 (Navigation Structure)

**내비게이션 타입**: 상단 바 (Topbar)

| 항목                | 설명                                                                                                                                                                                                                                                                                       |
| :------------------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **서비스 로고**     | 좌측 상단에 위치하며, 클릭 시 메인 페이지로 이동합니다.                                                                                                                                                                                                                                    |
| **메인 검색창**     | 상단 중앙에 위치하며, 어느 페이지에서든 키워드 검색을 시작할 수 있습니다. (검색 버튼 또는 Enter) 이는 **새로운 검색 행위를 시작하는 진입점**이며, API 호출이 여기서 발생합니다. 결과는 `/search` 경로로 표시됩니다.                                                                        |
| **로그인/회원가입** | 비회원 상태일 때 우측 상단에 노출됩니다. 클릭 시 각 페이지로 이동합니다.                                                                                                                                                                                                                   |
| **마이 페이지**     | 로그인한 회원에게만 우측 상단에 노출됩니다. 클릭 시 마이 페이지 (`/my-page`)로 이동하며, 이곳에서 **과거에 저장된 검색 및 분석 기록을 조회할 수 있는 목록 페이지로의 링크**를 제공합니다.                                                                                                  |
| **반응형 디자인**   | **데스크탑**: 상단 바에 모든 내비게이션 요소가 명확하게 보입니다. <br/> **모바일**: 상단 바는 간결하게 유지하고, 햄버거 메뉴 아이콘을 통해 나머지 내비게이션 링크(로그인/회원가입/마이 페이지 등)를 토글할 수 있도록 합니다. 검색창은 별도의 아이콘 클릭 시 확장되도록 구현할 수 있습니다. |

## 4. 페이지 계층 구조 (Page Hierarchy)

서비스 페이지의 중요도와 종속 관계를 나타냅니다.

-   **레벨 1 (메인)**
    -   메인 페이지 (`/`)
-   **레벨 2 (핵심 기능)**
    -   뉴스 검색 결과 페이지 (`/search`) - **메인 페이지에서의 검색 결과 표시**
    -   분석 결과 페이지 (`/analysis/{analysis_id}`) - **새로운 분석 결과 즉시 표시**
    -   마이 페이지 (`/my-page`)
    -   로그인 페이지 (`/login`)
    -   회원가입 페이지 (`/signup`)
-   **레벨 3 (목록 페이지)**
    -   나의 검색 기록 목록 페이지 (`/my-page/search`)
    -   나의 분석 기록 목록 페이지 (`/my-page/analysis`)
-   **레벨 4 (상세 페이지)**
    -   나의 검색 기록 상세 페이지 (`/my-page/search/{search_id}`) - 과거 검색 결과를 DB에서 재조회
    -   나의 분석 기록 상세 페이지 (`/my-page/analysis/{analysis_id}`) - 과거 분석 결과를 DB에서 재조회

## 5. 콘텐츠 조직 (Content Organization)

각 페이지에 포함될 주요 콘텐츠 요소들을 정의합니다.

### 5.1. 메인 페이지

-   **서비스 소개**: "특정 키워드에 관련된 뉴스들에 대해 AI 기반 분석하여 인사이트를 제공해주는 웹 서비스" 문구
-   **키워드 검색 영역**: 키워드 입력 필드, 검색 버튼 (**새로운 검색 시작**)
-   (선택 사항) **최근 인기 키워드/뉴스**: 사용자들이 많이 검색하거나 분석한 키워드 또는 최근 이슈 뉴스 목록 (SEO 고려)

### 5.2. 뉴스 검색 결과 페이지 (`/search`)

-   **검색 키워드 표시**: 현재 검색된 키워드를 명확히 표시 (메인 페이지에서 전달받은 키워드)
-   **뉴스 목록**:
    -   이 페이지는 **메인 페이지에서 실행된 검색의 결과**를 표시합니다. 데이터는 서버에서 처리된 후 이 페이지로 전달됩니다.
    -   뉴스 제목 (클릭 시 원본 기사로 연결)
    -   발행 언론사
    -   발행일자
    -   간략한 요약 내용 (선택 사항)
    -   각 뉴스별 선택 체크박스
-   **뉴스 필터링/정렬**:
    -   기사 제목 또는 본문 내용으로 필터링하는 검색창 (클라이언트 측에서 로드된 데이터 대상)
    -   (선택 사항) 발행일 최신순/오래된순, 관련도순 정렬 옵션
-   **뉴스 선택 관리**:
    -   '전체 선택' 체크박스
    -   선택된 뉴스 수 표시
-   **더 보기 기능**: '더 보기' 버튼 (클릭 시 **클라이언트 메모리에 이미 로드된 뉴스 데이터(최대 100건)를 분할하여** 화면에 추가로 표시합니다. 새로운 API 호출은 없습니다.)
-   **분석 시작 영역**:
    -   분석 종류 선택 (드롭다운, 라디오 버튼 등)
    -   '뉴스 분석' 버튼 (뉴스 선택 시 활성화)

### 5.3. 분석 결과 페이지 (`/analysis/{analysis_id}`)

-   **분석 상태 표시**:
    -   "분석중..." 문구
    -   스켈레톤 UI (분석 결과 영역에 표시)
-   **분석 완료 후 표시될 내용**:
    -   **분석 개요**: 분석 키워드, 선택된 뉴스 수, 분석 요청 일자/시간, 분석 완료 일자/시간
    -   **분석 종류별 결과**:
        -   예: '뉴스 요약' - 핵심 내용 요약 텍스트
        -   예: '감성 분석' - 긍정/부정/중립 비율 그래프, 주요 긍/부정 문구
        -   예: '키워드 추출' - 주요 키워드 워드 클라우드 또는 목록
        -   예: '연관성 분석' - 연관 키워드/인물 관계도 시각화
    -   (선택 사항) **분석 결과 내보내기 버튼**

### 5.4. 마이 페이지 (회원 전용, `/my-page`)

-   **회원 정보**: 로그인한 사용자 정보 (예: 이메일, 닉네임)
-   **나의 검색 기록 바로가기**: '나의 검색 기록 보기' 링크 (클릭 시 `/my-page/search`로 이동)
-   **나의 분석 기록 바로가기**: '나의 분석 기록 보기' 링크 (클릭 시 `/my-page/analysis`로 이동)

### 5.4.1. 나의 검색 기록 목록 페이지 (`/my-page/search`)

-   **페이지 제목**: "나의 검색 기록"
-   **검색 기록 목록**:
    -   각 검색 기록 항목에 대해: 검색 키워드, 검색 일자
    -   각 항목 클릭 시 `/my-page/search/{search_id}` 경로의 상세 페이지로 이동하는 링크.
-   (선택 사항) **목록 필터링/정렬**: 검색 키워드 필터링, 최신순/오래된순 정렬 옵션 등

### 5.4.2. 나의 분석 기록 목록 페이지 (`/my-page/analysis`)

-   **페이지 제목**: "나의 분석 기록"
-   **분석 기록 목록**:
    -   각 분석 기록 항목에 대해: 분석 종류, 분석 키워드, 분석 일자
    -   각 항목 클릭 시 `/my-page/analysis/{analysis_id}` 경로의 상세 페이지로 이동하는 링크.
-   ( 선택 사항) **목록 필터링/정렬**: 분석 종류 필터링, 최신순/오래된순 정렬 옵션 등

### 5.5. 나의 검색 기록 상세 페이지 (`/my-page/search/{search_id}`)

-   **원본 검색 키워드 및 일자 표시**: 이전에 검색했던 키워드와 검색 일자를 명확히 표시
-   **뉴스 목록**:
    -   **이전에 해당 `search_id`로 DB에 저장되었던 뉴스 목록을 표시**합니다. (**새로운 API 호출 없이 DB 데이터 사용**)
    -   뉴스 제목 (클릭 시 원본 기사로 연결)
    -   발행 언론사
    -   발행일자
    -   간략한 요약 내용 (선택 사항)
    -   각 뉴스별 선택 체크박스 (이 목록에서 다시 분석을 시작할 수 있습니다.)
-   **뉴스 필터링/정렬**:
    -   기사 제목 또는 본문 내용으로 필터링하는 검색창 (클라이언트 측에서 로드된 과거 데이터 대상)
    -   (선택 사항) 발행일 최신순/오래된순, 관련도순 정렬 옵션
-   **뉴스 선택 관리**:
    -   '전체 선택' 체크박스
    -   선택된 뉴스 수 표시
-   **더 보기 기능**: 이 페이지에서는 '더 보기' 버튼이 존재하지 않을 수 있습니다. (과거 특정 검색 결과이므로 추가 로드 개념 불필요)
-   **분석 시작 영역**:
    -   분석 종류 선택 (드롭다운, 라디오 버튼 등)
    -   '뉴스 분석' 버튼 (뉴스 선택 시 활성화)

### 5.6. 나의 분석 기록 상세 페이지 (`/my-page/analysis/{analysis_id}`)

-   **분석 개요**: 과거 분석 기록의 키워드, 분석 일자, 선택 뉴스 수 등을 표시
-   **분석 결과**:
    -   과거에 수행된 특정 `analysis_id`에 해당하는 분석 결과를 DB에서 가져와 표시합니다.
    -   분석 종류별로 시각화된 결과 (예: 요약 텍스트, 그래프, 워드 클라우드 등)를 포함합니다.
-   (선택 사항) **분석 결과 내보내기 버튼**

### 5.7. 로그인/회원가입 페이지

-   **입력 필드**: 이메일, 비밀번호 (회원가입 시 비밀번호 확인 추가)
-   **액션 버튼**: 로그인 버튼, 회원가입 버튼
-   **링크**: 비밀번호 찾기, 회원가입 또는 로그인 페이지로 이동하는 링크

## 6. 인터랙션 패턴 (Interaction Patterns)

사용자와 시스템 간의 상호작용 방식을 정의합니다.

-   **새로운 검색 (메인 페이지)**: 키워드 입력 후 Enter 또는 검색 버튼 클릭 시 **메인 페이지에서 백엔드로 검색 요청을 보냅니다.** 백엔드는 요청된 키워드에 대해 네이버 검색 API 호출 로직을 수행하고, 결과를 준비한 뒤 `/search` 경로로 사용자를 이동시킵니다.
-   **뉴스 로드**: `/search` 페이지의 '더 보기' 버튼 클릭 시 **클라이언트 메모리에 이미 로드된 뉴스 데이터(최대 100건)를 분할하여** 화면에 추가로 표시합니다. (스크롤 기반 로딩도 고려 가능).
-   **필터링**: 필터 입력 필드에 텍스트 입력 시 **클라이언트 측에서 로드된 뉴스 목록(현재 `/search` 또는 `/my-page/search/{search_id}` 페이지에 표시된 데이터)을 대상으로** 실시간 업데이트하여 뉴스 목록 즉시 갱신합니다. **URL 파라미터는 사용되지 않습니다.**
-   **뉴스 선택**: 체크박스 클릭 시 선택/해제 상태 토글, '전체 선택' 클릭 시 목록 전체 선택/해제. 선택된 뉴스 수 표시로 사용자 피드백.
-   **분석 시작**: 분석 종류 선택 후 '뉴스 분석' 버튼 클릭 시 즉시 분석 결과 페이지로 이동하며 로딩 상태 표시.
-   **로딩 표시**: AI 분석 중에는 스켈레톤 UI와 명확한 텍스트("분석중...")로 사용자에게 대기 시간을 인지시키고 이탈 방지.
-   **결과 표시**: 분석 완료 시 스켈레톤 UI가 실제 데이터로 교체되며 시각적으로 부드러운 전환 제공.
-   **반응형 UI**: 화면 크기 변화에 따라 요소 배치, 폰트 크기, 이미지 비율 등이 자동으로 조정되어 모든 디바이스에서 최적의 경험 제공 (Tailwind CSS의 반응형 유틸리티 활용).
-   **접근성**: 키보드 내비게이션 지원, 명확한 포커스 상태, ARIA 속성 활용 등 웹 접근성 표준 준수.

## 7. URL 구조 (URL Structure)

SEO 친화적이고 의미론적인 URL 구조를 설계합니다.

-   **메인 페이지**: `/`
-   **뉴스 검색 결과 (현재 검색 결과 표시)**: `/search`
    -   이 경로는 **메인 페이지에서 실행된 키워드 검색의 결과**를 표시하는 페이지입니다. (URL에 검색 키워드를 직접 포함하지 않아, 이 URL로 직접 접근 시 새로운 API 호출을 유발하지 않습니다. 비로그인 사용자의 경우 새로고침 시 데이터가 유지되지 않습니다. 브라우저의 '뒤로 가기'는 메인 페이지로 이동합니다.)
    -   **필터링**: 클라이언트 측에서 관리되며 URL 파라미터로 반영되지 않습니다.
    -   **페이지네이션**: '더 보기' 버튼 클릭을 통해 클라이언트 측에서 관리되며 URL 파라미터로 반영되지 않습니다.
-   **분석 결과 페이지 (새로운 분석 결과 즉시 표시)**: `/analysis/{analysis_id}`
    -   예: `/analysis/abc123def456`
-   **로그인 페이지**: `/login`
-   **회원가입 페이지**: `/signup`
-   **마이 페이지**: `/my-page`
-   **나의 검색 기록 목록 페이지**: `/my-page/search`
-   **나의 검색 기록 상세 페이지**: `/my-page/search/{search_id}`
    -   이 경로는 로그인한 사용자가 **과거에 저장했던 특정 검색 기록을 DB에서 재조회**할 때 사용됩니다.
    -   예: `/my-page/search/past_search_001`
-   **나의 분석 기록 목록 페이지**: `/my-page/analysis`
-   **나의 분석 기록 상세 페이지**: `/my-page/analysis/{analysis_id}`
    -   이 경로는 로그인한 사용자가 **과거에 저장했던 특정 분석 기록을 DB에서 재조회**할 때 사용됩니다.
    -   예: `/my-page/analysis/past_analysis_001`

## 8. 컴포넌트 계층 구조 (Component Hierarchy)

프론트엔드 개발 시 재사용성을 고려한 컴포넌트 구성을 정의합니다. React 컴포넌트 기반으로 설계합니다.

### 8.1. 레이아웃 컴포넌트 (Layout Components)

-   `AppLayout`: 전체 애플리케이션의 기본 레이아웃 (헤더, 푸터, 메인 콘텐츠 영역 포함)
-   `Header`: 상단 내비게이션 바 (로고, 검색창, 로그인/회원가입/마이 페이지 링크)
-   `Footer`: 하단 정보 표시 영역
-   `MainContentWrapper`: 각 페이지의 주요 콘텐츠를 담는 컨테이너

### 8.2. 내비게이션 컴포넌트 (Navigation Components)

-   `NavLink`: 개별 내비게이션 링크
-   `SearchBar`: 키워드 입력 필드 및 검색 버튼 (어느 페이지에서든 새로운 검색을 시작하도록)
-   `AuthButtons`: 로그인/회원가입 버튼 그룹 (비회원 시 노출)
-   `UserMenu`: 로그인한 사용자 메뉴 (마이 페이지 링크, 로그아웃 등)

### 8.3. UI 요소 컴포넌트 (UI Element Components)

-   `TextInput`: 일반 텍스트 입력 필드
-   `Button`: 일반 버튼 (Primary, Secondary 등 스타일 변형)
-   `Checkbox`: 단일/다중 선택 체크박스
-   `RadioButton`: 단일 선택 라디오 버튼
-   `Dropdown`: 분석 종류 선택 등 드롭다운 메뉴
-   `SkeletonLoader`: 콘텐츠 로딩 중 표시
-   `MessageBox`: `alert()` 대체를 위한 커스텀 메시지 박스

### 8.4. 페이지별 컴포넌트 (Page-Specific Components)

-   **HomePage**:
    -   `HeroSection`: 서비스 소개 및 주요 검색 영역
-   **NewsSearchResultPage**: (`/search` 경로용)
    -   `NewsList`: 뉴스 목록을 렌더링하는 컨테이너 (새로운 검색 결과)
    -   `NewsCard`: 개별 뉴스 기사 항목
    -   `FilterBar`: 뉴스 필터링 입력 필드
    -   `AnalysisOptionSelector`: 분석 종류 선택 UI
    -   `LoadMoreButton`: '더 보기' 버튼
-   **AnalysisResultPage**: (`/analysis/{analysis_id}` 경로용)
    -   `AnalysisStatusDisplay`: "분석중..." 문구 및 스켈레톤 UI 관리
    -   `AnalysisResultDisplay`: 실제 분석 결과를 시각화 (내부에 차트, 워드클라우드 등 포함)
-   **MyPage**:
    -   `MyInfoSection`: 사용자 정보 표시
    -   `SearchHistoryLink`: 나의 검색 기록 목록 페이지로 이동하는 링크
    -   `AnalysisHistoryLink`: 나의 분석 기록 목록 페이지로 이동하는 링크
-   **SearchHistoryListPage**: (`/my-page/search` 경로용)
    -   `SearchHistoryList`: 검색 기록 목록을 렌더링하는 컨테이너
    -   `SearchHistoryItem`: 개별 검색 기록 항목 (클릭 시 상세 페이지로 이동)
    -   `FilterAndSortOptions`: 목록 필터링 및 정렬 옵션
-   **AnalysisHistoryListPage**: (`/my-page/analysis` 경로용)
    -   `AnalysisHistoryList`: 분석 기록 목록을 렌더링하는 컨테이너
    -   `AnalysisHistoryItem`: 개별 분석 기록 항목 (클릭 시 상세 페이지로 이동)
    -   `FilterAndSortOptions`: 목록 필터링 및 정렬 옵션
-   **PastSearchDetailPage**: (`/my-page/search/{search_id}` 경로용)
    -   `PastNewsList`: DB에 저장된 과거 뉴스 목록을 렌더링하는 컨테이너
    -   `NewsCard`: 개별 뉴스 기사 항목 (재사용)
    -   `FilterBar`: 뉴스 필터링 입력 필드 (재사용, 클라이언트 측 필터링)
    -   `AnalysisOptionSelector`: 분석 종류 선택 UI (재사용)
-   **PastAnalysisDetailPage**: (`/my-page/analysis/{analysis_id}` 경로용)
    -   `AnalysisResultDisplay`: 과거 분석 결과를 표시하는 컴포넌트 (기존 컴포넌트 재사용)
-   **AuthPages**: (로그인/회원가입 페이지)
    -   `LoginForm`: 로그인 폼
    -   `SignupForm`: 회원가입 폼
